{% if section.settings.text != blank %}
<div class="announcement-bar color-{{ section.settings.color_scheme }}" role="region" aria-label="{{ 'sections.header.announcement' | t }}">
  <div class="page-width">
    <div class="announcement-bar__message">
      {{ section.settings.text }}
      {% if section.settings.link != blank %}
        <a href="{{ section.settings.link }}" class="announcement-bar__link">
          {{ section.settings.link_text | default: 'Learn More' }}
        </a>
      {% endif %}
    </div>
  </div>
</div>

<style>
.announcement-bar {
  background: var(--color-primary);
  color: white;
  text-align: center;
  padding: 8px 0;
  font-size: 0.875rem;
}

.announcement-bar__message {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
}

.announcement-bar__link {
  color: white;
  text-decoration: underline;
  font-weight: var(--font-body-weight-bold);
}

.announcement-bar__link:hover {
  opacity: 0.8;
}

@media screen and (max-width: 767px) {
  .announcement-bar__message {
    flex-direction: column;
    gap: 0.5rem;
  }
}
</style>
{% endif %}

{% schema %}
{
  "name": "Announcement bar",
  "max_blocks": 1,
  "settings": [
    {
      "type": "richtext",
      "id": "text",
      "default": "<p>Welcome to TrendifyShop! Free shipping on orders over $50</p>",
      "label": "Text"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link"
    },
    {
      "type": "text",
      "id": "link_text",
      "default": "Shop Now",
      "label": "Link text"
    }
  ],
  "presets": [
    {
      "name": "Announcement bar"
    }
  ]
}
{% endschema %}